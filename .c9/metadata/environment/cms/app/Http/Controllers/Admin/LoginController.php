{"filter":false,"title":"LoginController.php","tooltip":"/cms/app/Http/Controllers/Admin/LoginController.php","undoManager":{"mark":27,"position":27,"stack":[[{"start":{"row":2,"column":36},"end":{"row":3,"column":0},"action":"insert","lines":["",""],"id":2}],[{"start":{"row":3,"column":0},"end":{"row":4,"column":0},"action":"insert","lines":["namespace App\\Http\\Controllers\\Admin\\Auth; // Adminを追加",""],"id":3}],[{"start":{"row":2,"column":0},"end":{"row":3,"column":0},"action":"remove","lines":["namespace App\\Http\\Controllers\\Auth;",""],"id":4}],[{"start":{"row":4,"column":0},"end":{"row":5,"column":0},"action":"insert","lines":["use App\\Http\\Controllers\\Admin\\Auth;   // 追加",""],"id":5}],[{"start":{"row":4,"column":44},"end":{"row":5,"column":0},"action":"remove","lines":["",""],"id":6}],[{"start":{"row":5,"column":0},"end":{"row":8,"column":40},"action":"remove","lines":["use App\\Http\\Controllers\\Controller;","use Illuminate\\Foundation\\Auth\\AuthenticatesUsers;","","class LoginController extends Controller"],"id":15},{"start":{"row":5,"column":0},"end":{"row":9,"column":40},"action":"insert","lines":["use App\\Http\\Controllers\\Controller;","use Illuminate\\Foundation\\Auth\\AuthenticatesUsers;","use Illuminate\\Http\\Request;","","class LoginController extends Controller"]}],[{"start":{"row":7,"column":0},"end":{"row":7,"column":3},"action":"insert","lines":["// "],"id":16}],[{"start":{"row":7,"column":31},"end":{"row":7,"column":32},"action":"insert","lines":[" "],"id":17},{"start":{"row":7,"column":32},"end":{"row":7,"column":33},"action":"insert","lines":["t"]},{"start":{"row":7,"column":33},"end":{"row":7,"column":34},"action":"insert","lines":["u"]}],[{"start":{"row":7,"column":33},"end":{"row":7,"column":34},"action":"remove","lines":["u"],"id":18},{"start":{"row":7,"column":32},"end":{"row":7,"column":33},"action":"remove","lines":["t"]}],[{"start":{"row":7,"column":32},"end":{"row":7,"column":34},"action":"insert","lines":["//"],"id":19},{"start":{"row":7,"column":34},"end":{"row":7,"column":36},"action":"insert","lines":["追加"]},{"start":{"row":7,"column":36},"end":{"row":7,"column":39},"action":"insert","lines":["？？？"]}],[{"start":{"row":30,"column":0},"end":{"row":31,"column":0},"action":"insert","lines":["",""],"id":33},{"start":{"row":31,"column":0},"end":{"row":32,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":30,"column":0},"end":{"row":31,"column":0},"action":"insert","lines":["protected $redirectTo = '/admin/home';　　　　// ログイン後のリダイレクト先",""],"id":34}],[{"start":{"row":30,"column":0},"end":{"row":30,"column":4},"action":"insert","lines":["    "],"id":35}],[{"start":{"row":30,"column":4},"end":{"row":30,"column":8},"action":"insert","lines":["    "],"id":36}],[{"start":{"row":30,"column":4},"end":{"row":30,"column":8},"action":"remove","lines":["    "],"id":37}],[{"start":{"row":30,"column":42},"end":{"row":30,"column":46},"action":"remove","lines":["　　　　"],"id":39},{"start":{"row":30,"column":42},"end":{"row":31,"column":0},"action":"insert","lines":["",""]},{"start":{"row":31,"column":0},"end":{"row":31,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":29,"column":0},"end":{"row":30,"column":0},"action":"remove","lines":["    protected $redirectTo = '/home';",""],"id":40}],[{"start":{"row":30,"column":0},"end":{"row":30,"column":4},"action":"remove","lines":["    "],"id":41},{"start":{"row":29,"column":42},"end":{"row":30,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":32,"column":0},"end":{"row":33,"column":0},"action":"insert","lines":["",""],"id":43},{"start":{"row":33,"column":0},"end":{"row":34,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":32,"column":0},"end":{"row":41,"column":1},"action":"insert","lines":["// ログイン画面","public function showLoginForm()","{","    return view('admin.auth.login'); //管理者ログインページのテンプレート","}","","protected function guard()","{","    return \\Auth::guard('admin'); //管理者認証のguardを指定","}"],"id":44}],[{"start":{"row":32,"column":0},"end":{"row":32,"column":4},"action":"insert","lines":["    "],"id":45},{"start":{"row":33,"column":0},"end":{"row":33,"column":4},"action":"insert","lines":["    "]},{"start":{"row":34,"column":0},"end":{"row":34,"column":4},"action":"insert","lines":["    "]},{"start":{"row":35,"column":0},"end":{"row":35,"column":4},"action":"insert","lines":["    "]},{"start":{"row":36,"column":0},"end":{"row":36,"column":4},"action":"insert","lines":["    "]},{"start":{"row":37,"column":0},"end":{"row":37,"column":4},"action":"insert","lines":["    "]},{"start":{"row":38,"column":0},"end":{"row":38,"column":4},"action":"insert","lines":["    "]},{"start":{"row":39,"column":0},"end":{"row":39,"column":4},"action":"insert","lines":["    "]},{"start":{"row":40,"column":0},"end":{"row":40,"column":4},"action":"insert","lines":["    "]},{"start":{"row":41,"column":0},"end":{"row":41,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":43,"column":0},"end":{"row":44,"column":0},"action":"insert","lines":["",""],"id":46},{"start":{"row":44,"column":0},"end":{"row":45,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":44,"column":0},"end":{"row":50,"column":0},"action":"insert","lines":["/**"," * Log the user out of the application."," *"," * @param  \\Illuminate\\Http\\Request  $request"," * @return \\Illuminate\\Http\\Response"," */",""],"id":47}],[{"start":{"row":44,"column":0},"end":{"row":44,"column":4},"action":"insert","lines":["    "],"id":48},{"start":{"row":45,"column":0},"end":{"row":45,"column":4},"action":"insert","lines":["    "]},{"start":{"row":46,"column":0},"end":{"row":46,"column":4},"action":"insert","lines":["    "]},{"start":{"row":47,"column":0},"end":{"row":47,"column":4},"action":"insert","lines":["    "]},{"start":{"row":48,"column":0},"end":{"row":48,"column":4},"action":"insert","lines":["    "]},{"start":{"row":49,"column":0},"end":{"row":49,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":51,"column":0},"end":{"row":52,"column":0},"action":"insert","lines":["",""],"id":49},{"start":{"row":52,"column":0},"end":{"row":53,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":51,"column":0},"end":{"row":61,"column":1},"action":"insert","lines":["public function logout(Request $request)","{","    $this-&gt;guard()-&gt;logout();","","    $request-&gt;session()-&gt;invalidate();","","    return $this-&gt;loggedOut($request) ?: redirect('/admin/');  // ログアウト後のリダイレクト先","}","","","}"],"id":50}],[{"start":{"row":51,"column":0},"end":{"row":51,"column":4},"action":"insert","lines":["    "],"id":51},{"start":{"row":52,"column":0},"end":{"row":52,"column":4},"action":"insert","lines":["    "]},{"start":{"row":53,"column":0},"end":{"row":53,"column":4},"action":"insert","lines":["    "]},{"start":{"row":54,"column":0},"end":{"row":54,"column":4},"action":"insert","lines":["    "]},{"start":{"row":55,"column":0},"end":{"row":55,"column":4},"action":"insert","lines":["    "]},{"start":{"row":56,"column":0},"end":{"row":56,"column":4},"action":"insert","lines":["    "]},{"start":{"row":57,"column":0},"end":{"row":57,"column":4},"action":"insert","lines":["    "]},{"start":{"row":58,"column":0},"end":{"row":58,"column":4},"action":"insert","lines":["    "]},{"start":{"row":59,"column":0},"end":{"row":59,"column":4},"action":"insert","lines":["    "]},{"start":{"row":60,"column":0},"end":{"row":60,"column":4},"action":"insert","lines":["    "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":0,"column":0},"end":{"row":74,"column":0},"action":"remove","lines":["<?php","","namespace App\\Http\\Controllers\\Admin\\Auth; // Adminを追加","","use App\\Http\\Controllers\\Admin\\Auth;   // 追加","use App\\Http\\Controllers\\Controller;","use Illuminate\\Foundation\\Auth\\AuthenticatesUsers;","// use Illuminate\\Http\\Request; //追加？？？","","class LoginController extends Controller","{","    /*","    |--------------------------------------------------------------------------","    | Login Controller","    |--------------------------------------------------------------------------","    |","    | This controller handles authenticating users for the application and","    | redirecting them to your home screen. The controller uses a trait","    | to conveniently provide its functionality to your applications.","    |","    */","","    use AuthenticatesUsers;","","    /**","     * Where to redirect users after login.","     *","     * @var string","     */","    protected $redirectTo = '/admin/home';// ログイン後のリダイレクト先","","","    // ログイン画面","    public function showLoginForm()","    {","        return view('admin.auth.login'); //管理者ログインページのテンプレート","    }","    ","    protected function guard()","    {","        return \\Auth::guard('admin'); //管理者認証のguardを指定","    }","","","    /**","     * Log the user out of the application.","     *","     * @param  \\Illuminate\\Http\\Request  $request","     * @return \\Illuminate\\Http\\Response","     */","","    public function logout(Request $request)","    {","        $this-&gt;guard()-&gt;logout();","    ","        $request-&gt;session()-&gt;invalidate();","    ","        return $this-&gt;loggedOut($request) ?: redirect('/admin/');  // ログアウト後のリダイレクト先","    }","    ","    ","    }","","","    /**","     * Create a new controller instance.","     *","     * @return void","     */","    public function __construct()","    {","        $this->middleware('guest')->except('logout');","    }","}",""],"id":81},{"start":{"row":0,"column":0},"end":{"row":44,"column":1},"action":"insert","lines":["<?php","namespace App\\Http\\Controllers\\Admin\\Auth;","use App\\Http\\Controllers\\Admin\\Auth;","use App\\Http\\Controllers\\Controller;","use Illuminate\\Foundation\\Auth\\AuthenticatesUsers;","use Illuminate\\Http\\Request;","class LoginController extends Controller","{","    /*","    |--------------------------------------------------------------------------","    | Login Controller","    |--------------------------------------------------------------------------","    |","    | This controller handles authenticating users for the application and","    | redirecting them to your home screen. The controller uses a trait","    | to conveniently provide its functionality to your applications.","    |","    */","    use AuthenticatesUsers;","    /**","     * Where to redirect users after login.","     *","     * @var string","     */","    protected $redirectTo = '/admin/home';","    /**","     * Create a new controller instance.","     *","     * @return void","     */","    // ログイン画面","    public function showLoginForm()","    {","        return view('admin.auth.login'); //管理者ログインページのテンプレート","    }","    protected function guard()","    {","        return \\Auth::guard('admin'); //管理者認証のguardを指定","    }","    public function logout(Request $request){","        $this->guard()->logout();","        $request->session()->invalidate();","        return $this->loggedOut($request) ?: redirect('/admin/');  // ログアウト後のリダイレクト先","    }","}"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":20,"column":41},"end":{"row":20,"column":41},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1566218117337,"hash":"b8bcbf357d302468d594b2746575c366ee4a6ae1"}